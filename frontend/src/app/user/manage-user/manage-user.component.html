<div class="container">
  <div class="row">
    <div class="col s12">
      <div class="card">
        <div class="card-content">
          <form materialize #myForm (ngSubmit)="onSubmit(myForm)">
            <div class="row">
              <div class="input-field col s6">
                <input placeholder="First Name" id="firstName" type="text" class="validate" name="firstname" [(ngModel)]="userForm.firstName">
                <label for="firstName">First Name</label>
              </div>
              <div class="input-field col s6">
                <input placeholder="Last Name" id="lastName" type="text" class="validate" name="lastname" [(ngModel)]="userForm.lastName">
                <label for="lastName">Last Name</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s12">
                <input placeholder="Username" id="username" type="text" class="validate" name="username" [(ngModel)]="userForm.userAuth.username">
                <label for="username">Username</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s12">
                <input placeholder="Password" id="password" type="password" class="validate" name="password" [(ngModel)]="userForm.userAuth.password">
                <label for="password">Password</label>
              </div>
            </div>
            <div class="row">
              <form class="col s12">
                <div class="row">
                  <div class="input-field col s12">
                    <textarea placeholder="Address" id="address" class="materialize-textarea" name="address" [(ngModel)]="userForm.address"></textarea>
                    <label for="address">Address</label>
                  </div>
                </div>
              </form>
            </div>
            <div class="row">
              <div class="input-field col s12">
                <input placeholder="Telephone Number" id="icon_telephone" type="tel" class="validate" name="phonenumber" [(ngModel)]="userForm.phoneNumber">
                <label for="icon_telephone">Telephone Number</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s12 right-align">
                <button name="resetButton" class="btn waves-effect waves-light blue-grey lighten-5 black-text" type="reset" (click)="reset()">
                  RESET
                </button>
                <button name="addButton" class="btn waves-effect waves-light" type="submit" name="action"> {{!userForm.id? 'ADD' : 'UPDATE'}}
                  <i class="material-icons right">send</i>
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col s12">
      <nav class="indigo darken-4">
        <div class="nav-wrapper">
          <form materialize>
            <div class="input-field">
              <input id="search" name="search" type="search" [(ngModel)]="search" (input)="searchUser()">
              <label class="label-icon" for="search"><i class="material-icons">search</i></label>
              <i class="material-icons">close</i>
            </div>
          </form>
        </div>
      </nav>
    </div>
  </div>

  <div class="row">
    <div class="col s12">
      <ul class="collection with-header">
        <div *ngFor="let user of users">
          <li class="collection-item" *ngIf="user.enabled && !isAdmin(user)">
            <div>
              {{ getRoleString(user) }} | <strong>Username:</strong> {{user.userAuth.username}} | {{user.firstName}} {{ user.lastName }}
              <a (click)="delete(user)" class="secondary-content">
                <i class="material-icons">delete</i>
              </a>
              <a (click)="edit(user)" class="secondary-content">
                <i class="material-icons">edit</i>
              </a>
            </div>
          </li>
        </div>

      </ul>
    </div>
  </div>
</div>

